# 在 Debian/Ubuntu 等 Linux 發行版下打包 SAC

## 為什麼要「打包」SAC?

SAC 全名是 Seismic Analysis Code，是個歷史悠久的地震學資料處理軟體，由美國的 IRIS (地震學研究機構聯合會) 團隊開發，主要使用 C 語言開發，需在相容 Unix-like (如 Linux, FreeBSD, Cygwin...等) 的 X 視窗系統下才能正常使用，並只提供相關原始碼、執行檔給非特殊國家之地震學相關人員。若需取得相關程式需至官方網站[填寫申請表單](https://ds.iris.edu/ds/nodes/dmc/forms/sac/)，由該單位人員審核後才可藉由 email 附件取得檔案。

傳統而言，在同一作業系統環境下安裝 SAC 有兩種途徑，第一種是直接把 IRIS 提供的執行檔手動放到指定位置 ( Linux 下指定 `/usr/local` ) 後執行，另一種是在作業系統下自行使用 gcc 等編譯器建置後安裝到自行指定的位置 (若未指定則仍安裝到 `/usr/local` )

第一種方法的方便之處在於說，不需要瞭解太多 Linux / Unix 的基礎知識與相關操作就可以藉由非常基本的指令 (cp, sudo...等) 完成安裝，缺點或潛在問題卻在於「安裝容易解除難」，且容易跟其他也手動安裝在 `/usr/local` 底下的套件混淆 (因為在 Unix 環境下各套件預設就是安裝在這個路徑)，在嘗試解除安裝的過程中容易誤刪其他套件 (如 Matlab) 的檔案。但如果藉由客製化編譯就可以安裝在其他不會混淆的位置。

第一種方法也無法自行客製化相關功能，這限制的問題在於說用此方法安裝的 SAC 程式只能在有限制的操作體驗下進行，而使得剛熟悉 bash 等指令介面的使用者進入 SAC 的指令介面會發現 TAB 自動補完、上下、結束時保留指令歷史、Ctrl+R 搜尋歷史等在 bash 有的功能這邊都沒有或限制更多。但如果客製化編譯就可以藉由增加相關選項就可以改善。

第一種方法也只有提供在 x86/x86-64 架構下的 CPU 才能順利執行的 Linux 執行檔，也就是說若你今天想在同樣安裝 Linux 的小型開發板 (如：樹梅派)或是在官方沒考慮的 Unix-like 環境(Cygwin, FreeBSD)下執行是做不到的 (樹梅派或許可以在上面開 QEMU 模擬，但速度可預想是非常非常慢的)

因此我們知道如果藉由第二種方法有可修改安裝路徑、自行增減相關功能、移植更方便等優勢，但此方法對於沒有接觸過系統管理、程式開發的使用者挑戰並不小，且若想要同時提供給多臺電腦安裝一樣客製化設定的 SAC 程式也勢必會花費維護人員很多心力。此時發行版下的套件管理工具就是我們很重要的夥伴了! 在這邊我們將用 Debian/Ubuntu 下的 `apt` (`dpkg`) 工具來協助我們更輕易地部署「我們的 SAC」

## 待續
